---
sidebar_label: Utilities
sidebar_position: 6
---

import { ClassComponent, MethodComponent } from "@site/src/components/Class";

# Utilities

## Save Utils

### DirectoryList

<ClassComponent
  className="src.utils.save_utils.DirectoryList"
  initParams="(save_dir:str, config_hash:str)"
  sourceUrl="github.com"
>
    The `DirectoryList` class represents a structured approach to managing directories for saving various components of experiment results, ensuring organized storage and easy access to different types of data generated during the experiment's lifecycle.

    #### Class Attributes

    - `save_dir: str` - The base directory where all experiment results are saved. It acts as the root directory for storing the outputs of different experiments.
    - `config_hash: str` - A unique identifier for each experiment configuration, used to create separate subdirectories under `save_dir` for different experiment runs.

    #### Properties

    - `experiment: str` - Returns the path to the specific experiment directory, combining `save_dir` with `config_hash`. This directory acts as the container for all data related to a particular experiment configuration.
    - `config: str` - Returns the path to the configuration file within the experiment directory. This file stores the experiment's settings and parameters.
    - `dataset: str` - Returns the path to the directory where dataset files are stored, allowing for separation between different types of data used or generated by the experiment.
    - `weights: str` - Returns the path to the directory where model weights are saved, facilitating easy access to trained models.
    - `results: str` - Returns the path to the directory where experiment results, such as metrics or output files, are stored.
    - `qa: str` - Returns the path to the directory dedicated to quality assurance or testing results, ensuring that evaluation outputs are organized and retrievable.

</ClassComponent>

### DirectoryHelper

<ClassComponent
  className="src.utils.save_utils.DirectoryHelper"
  initParams="(config_path: str, config: Config)"
  sourceUrl="github.com"
>
    The DirectoryHelper class provides helper methods for managing directories and saving configurations, facilitating the organization and preservation of experiment settings and outcomes.

    #### Parameters
    - `config_path: str` - The path to the configuration file.
    - `config: Config` - The configuration object.

    #### Attributes
    - `config_path: str` - The path to the configuration file. This attribute stores the location of the main configuration file used by the experiment, enabling the `DirectoryHelper` to access and manage experiment configurations.
    - `config: Config` - The configuration object. This attribute holds the actual configuration settings loaded from the configuration file, encapsulating all experiment parameters and settings in an accessible object format.
    - `sqids: Sqids` - An instance of the `Sqids` class, which is used for managing unique config IDs to track experiments.
    - `save_paths: DirectoryList` - Represents the structured list of directory paths associated with the current experiment.

<MethodComponent methodName="save_config() -> None" methodSignature="">
  Saves the configuration to a file, ensuring that experiment parameters are documented and reproducible.

</MethodComponent>
</ClassComponent>

## Ablation Utils

<ClassComponent
  className="src.utils.ablation_utils.generate_permutations"
  initParams="(yaml_dict: dict, model: BaseModel)"
  isClass={false}
  sourceUrl="github.com"
>
    Generates permutations of a YAML dictionary based on specified ablations. This function is pivotal for creating variations in configurations or datasets, enabling thorough testing and exploration of different scenarios.

    #### Parameters
    - `yaml_dict: dict` - The YAML dictionary containing the definitions for ablations.
    - `model: BaseModel` - The pydantic `BaseModel` object, which might be used to reference or validate the permutations against specific criteria or configurations.

    #### Returns
    A list of permuted dictionaries, each representing a variation of the original YAML dictionary based on the defined ablations, facilitating extensive testing or data variation analysis.

</ClassComponent>
